// Fitness Metrics Dataset - Compact format for efficiency
// Data: [age,gender(0=F,1=M),weight,height,maxBPM,avgBPM,restBPM,duration,calories,type(0=Yoga,1=HIIT,2=Cardio,3=Strength),fat%,water,freq,exp,bmi]
const T = ['Yoga', 'HIIT', 'Cardio', 'Strength'], G = ['Female', 'Male'];
const raw = [
    [56, 1, 88.3, 1.71, 180, 157, 60, 1.69, 1313, 0, 12.6, 3.5, 4, 3, 30.2], [46, 0, 74.9, 1.53, 179, 151, 66, 1.3, 883, 1, 33.9, 2.1, 4, 2, 32.0],
    [32, 0, 68.1, 1.66, 167, 122, 54, 1.11, 677, 2, 33.4, 2.3, 4, 2, 24.71], [25, 1, 53.2, 1.7, 190, 164, 56, 0.59, 532, 3, 28.8, 2.1, 3, 1, 18.41],
    [38, 1, 46.1, 1.79, 188, 158, 68, 0.64, 556, 3, 29.2, 2.8, 3, 1, 14.39], [56, 0, 58.0, 1.68, 168, 156, 74, 1.59, 1116, 1, 15.5, 2.7, 5, 3, 20.55],
    [36, 1, 70.3, 1.72, 174, 169, 73, 1.49, 1385, 2, 21.3, 2.3, 3, 2, 23.76], [40, 0, 69.7, 1.51, 189, 141, 64, 1.27, 895, 2, 30.6, 1.9, 3, 2, 30.57],
    [28, 1, 121.7, 1.94, 185, 127, 52, 1.03, 719, 3, 28.9, 2.6, 4, 2, 32.34], [28, 1, 101.8, 1.84, 169, 136, 64, 1.08, 808, 2, 29.7, 2.7, 3, 1, 30.07],
    [41, 1, 120.8, 1.67, 188, 146, 54, 0.82, 593, 1, 20.5, 3.0, 2, 1, 43.31], [53, 1, 51.7, 1.7, 175, 152, 72, 1.15, 865, 1, 23.6, 3.5, 3, 2, 17.89],
    [57, 1, 112.5, 1.61, 195, 165, 61, 1.24, 1013, 2, 22.1, 2.7, 3, 2, 43.4], [41, 1, 94.5, 2.0, 179, 136, 69, 1.18, 794, 1, 27.6, 3.7, 3, 1, 23.62],
    [20, 1, 117.7, 1.81, 196, 161, 54, 1.35, 1195, 0, 26.4, 3.3, 3, 2, 35.93], [39, 0, 42.5, 1.75, 181, 131, 52, 1.13, 740, 3, 26.2, 2.1, 2, 1, 13.88],
    [19, 0, 64.0, 1.53, 166, 167, 58, 1.33, 1111, 1, 29.8, 2.3, 3, 2, 27.34], [41, 0, 43.8, 1.77, 182, 165, 58, 1.19, 884, 2, 31.9, 1.6, 3, 1, 13.98],
    [47, 0, 66.8, 1.75, 199, 146, 56, 1.13, 742, 3, 32.8, 2.5, 3, 2, 21.81], [55, 0, 75.2, 1.67, 188, 167, 51, 1.37, 1030, 1, 25.2, 2.2, 2, 1, 26.96],
    [19, 1, 89.0, 1.77, 175, 127, 72, 1.5, 1048, 3, 28.9, 3.7, 4, 2, 28.41], [38, 1, 71.9, 1.77, 197, 142, 72, 1.12, 875, 2, 25.7, 3.1, 2, 1, 22.95],
    [50, 0, 71.0, 1.68, 187, 161, 70, 1.17, 848, 0, 33.1, 2.5, 2, 1, 25.16], [29, 1, 120.9, 1.78, 197, 168, 65, 0.78, 721, 0, 28.1, 3.4, 2, 1, 38.16],
    [39, 0, 64.3, 1.69, 190, 148, 58, 1.25, 925, 1, 26.9, 1.9, 4, 2, 22.51], [42, 0, 63.7, 1.71, 173, 169, 62, 1.42, 1080, 0, 26.1, 1.8, 3, 2, 21.78],
    [44, 1, 65.2, 1.8, 192, 139, 68, 0.73, 502, 1, 27.2, 2.7, 2, 1, 20.12], [59, 1, 53.9, 1.75, 168, 135, 69, 1.48, 989, 3, 21.6, 2.8, 4, 2, 17.6],
    [45, 1, 84.9, 1.86, 186, 136, 66, 1.64, 1104, 1, 14.2, 3.5, 5, 3, 24.54], [33, 0, 78.0, 1.68, 183, 135, 55, 1.29, 871, 1, 32.3, 1.8, 3, 2, 27.64],
    [32, 1, 108.2, 1.8, 172, 138, 53, 1.27, 964, 1, 28.4, 3.5, 3, 1, 33.4], [20, 0, 65.4, 1.52, 185, 127, 50, 1.03, 654, 0, 28.0, 2.2, 4, 2, 28.31],
    [54, 0, 50.2, 1.61, 188, 157, 67, 1.48, 1046, 1, 28.2, 2.7, 2, 1, 19.37], [24, 0, 58.9, 1.51, 187, 157, 68, 1.04, 816, 2, 31.7, 2.5, 2, 1, 25.83],
    [38, 1, 81.4, 1.71, 187, 148, 58, 1.52, 1237, 1, 10.2, 3.5, 5, 3, 27.84], [26, 1, 127.6, 1.73, 167, 160, 62, 1.32, 1162, 3, 27.3, 2.9, 3, 1, 42.63],
    [56, 0, 59.3, 1.56, 182, 155, 57, 1.26, 879, 2, 33.4, 2.6, 4, 2, 24.37], [35, 1, 96.9, 1.71, 188, 145, 72, 1.34, 1069, 3, 24.2, 2.9, 3, 2, 33.14],
    [21, 1, 62.6, 1.81, 164, 150, 62, 1.3, 1072, 3, 27.6, 3.5, 4, 2, 19.11], [42, 1, 45.5, 1.6, 166, 163, 64, 1.31, 1057, 3, 21.7, 2.6, 3, 2, 17.77],
    [31, 0, 48.8, 1.51, 195, 131, 60, 1.48, 969, 2, 28.2, 2.0, 2, 1, 21.4], [26, 0, 44.3, 1.6, 186, 136, 61, 1.08, 734, 2, 34.7, 2.0, 3, 1, 17.3],
    [43, 1, 113.2, 1.83, 161, 134, 63, 1.45, 962, 0, 29.9, 2.9, 4, 2, 33.8], [19, 0, 60.5, 1.59, 184, 128, 53, 1.14, 730, 2, 30.1, 2.2, 2, 1, 23.93],
    [37, 1, 124.2, 1.76, 168, 158, 50, 1.5, 1304, 1, 29.3, 2.8, 2, 1, 40.1], [45, 1, 52.4, 1.85, 186, 161, 73, 1.2, 956, 3, 25.2, 2.5, 3, 1, 15.31],
    [24, 1, 54.7, 1.74, 160, 167, 53, 0.84, 772, 0, 22.9, 3.6, 3, 1, 18.07], [25, 1, 88.1, 1.95, 182, 131, 68, 1.41, 1016, 2, 22.7, 3.0, 2, 1, 23.17],
    [52, 0, 59.7, 1.71, 169, 151, 58, 1.23, 836, 3, 34.3, 2.0, 3, 1, 20.42], [31, 0, 79.7, 1.54, 184, 144, 59, 1.03, 742, 2, 26.7, 2.3, 4, 2, 33.61],
    [34, 0, 51.0, 1.62, 162, 158, 53, 1.42, 1122, 0, 30.8, 2.4, 3, 2, 19.43], [53, 1, 84.2, 1.76, 165, 137, 69, 1.67, 1133, 2, 12.8, 3.5, 5, 3, 27.18],
    [57, 1, 122.1, 1.89, 165, 134, 58, 1.13, 750, 2, 27.4, 3.6, 3, 1, 34.18], [21, 1, 96.7, 1.72, 161, 151, 62, 1.26, 1046, 3, 25.0, 2.8, 3, 1, 32.69],
    [19, 0, 73.0, 1.79, 177, 125, 61, 0.81, 506, 1, 27.7, 1.6, 3, 1, 22.78], [23, 1, 114.8, 1.6, 182, 163, 60, 1.47, 1318, 2, 21.7, 2.7, 4, 2, 44.84],
    [59, 0, 65.5, 1.52, 161, 162, 61, 1.4, 1021, 0, 31.2, 2.1, 3, 2, 28.35], [21, 0, 50.3, 1.52, 171, 154, 67, 1.08, 832, 2, 32.2, 2.6, 3, 1, 21.77],
    [46, 0, 61.0, 1.71, 181, 153, 61, 1.67, 1150, 2, 17.8, 2.7, 4, 3, 20.86], [35, 0, 44.6, 1.62, 196, 157, 65, 0.56, 440, 1, 32.4, 2.0, 2, 1, 16.99],
    [43, 0, 58.2, 1.61, 179, 124, 54, 1.04, 580, 3, 26.4, 2.6, 3, 2, 22.45], [51, 0, 44.8, 1.63, 198, 137, 69, 1.08, 666, 0, 33.8, 2.1, 4, 2, 16.86],
    [27, 1, 87.5, 1.63, 183, 135, 74, 1.75, 1299, 3, 12.9, 3.5, 5, 3, 32.93], [53, 1, 51.8, 1.74, 179, 127, 61, 1.23, 773, 3, 21.3, 3.7, 3, 2, 17.11],
    [31, 0, 64.4, 1.7, 160, 144, 70, 1.97, 1418, 3, 17.3, 2.7, 5, 3, 22.28], [48, 0, 67.1, 1.61, 160, 151, 74, 0.62, 421, 2, 33.4, 1.5, 2, 1, 25.89],
    [32, 1, 85.9, 1.6, 176, 145, 60, 1.99, 1587, 1, 14.5, 3.5, 5, 3, 33.55], [25, 0, 65.4, 1.77, 160, 141, 58, 0.89, 627, 2, 27.6, 2.6, 3, 1, 20.88],
    [31, 0, 61.1, 1.76, 189, 150, 67, 1.81, 1358, 0, 18.6, 2.7, 4, 3, 19.72], [40, 1, 106.5, 1.65, 162, 162, 74, 1.32, 1176, 1, 21.0, 3.6, 4, 2, 39.12],
    [57, 0, 64.0, 1.52, 170, 129, 52, 1.73, 1004, 3, 15.2, 2.7, 5, 3, 27.7], [38, 0, 61.4, 1.54, 183, 131, 69, 1.47, 963, 1, 30.6, 2.7, 3, 2, 25.89],
    [33, 0, 40.5, 1.63, 181, 147, 66, 1.07, 786, 0, 31.9, 1.5, 4, 2, 15.24], [35, 1, 70.1, 1.79, 185, 125, 63, 1.08, 743, 2, 28.0, 2.3, 3, 2, 21.88],
    [41, 1, 94.1, 1.62, 172, 139, 50, 1.13, 777, 2, 23.4, 3.1, 4, 2, 35.86], [43, 1, 55.5, 1.82, 160, 124, 66, 1.08, 663, 3, 20.1, 2.0, 3, 1, 16.76],
    [42, 0, 53.7, 1.72, 183, 142, 74, 1.37, 875, 2, 29.8, 1.6, 3, 1, 18.15], [58, 0, 66.1, 1.75, 169, 128, 57, 0.63, 363, 2, 25.2, 1.8, 2, 1, 21.58],
    [46, 1, 103.9, 1.77, 194, 148, 54, 1.18, 864, 0, 20.9, 2.9, 2, 1, 33.16], [32, 0, 61.7, 1.58, 183, 135, 54, 1.87, 1262, 1, 16.6, 2.7, 5, 3, 24.72],
    [18, 0, 52.3, 1.74, 187, 165, 58, 1.2, 990, 2, 29.4, 2.2, 2, 1, 17.27], [42, 0, 59.5, 1.74, 195, 141, 52, 1.78, 1129, 0, 16.4, 2.7, 5, 3, 19.65],
    [24, 0, 72.9, 1.76, 175, 127, 68, 0.86, 546, 0, 30.8, 1.5, 3, 1, 23.53], [26, 0, 76.7, 1.63, 199, 139, 72, 1.08, 751, 3, 25.6, 1.7, 2, 1, 28.87],
    [41, 1, 72.1, 1.83, 175, 133, 58, 1.13, 744, 0, 21.4, 2.8, 3, 2, 21.53], [18, 0, 54.8, 1.68, 176, 158, 71, 1.27, 1003, 3, 32.0, 2.2, 4, 2, 19.42],
    [25, 1, 105.0, 1.88, 174, 156, 67, 1.34, 1150, 2, 21.4, 2.3, 3, 2, 29.71], [41, 0, 55.0, 1.55, 175, 169, 65, 1.45, 1103, 3, 31.4, 2.0, 4, 2, 22.89],
    [28, 1, 81.6, 1.66, 174, 153, 50, 1.09, 917, 0, 20.5, 3.5, 4, 2, 29.61], [34, 0, 75.6, 1.6, 193, 130, 51, 0.64, 416, 1, 29.1, 2.7, 2, 1, 29.53],
    [25, 1, 81.5, 1.61, 170, 159, 63, 1.93, 1688, 1, 10.9, 3.5, 4, 3, 31.44], [52, 0, 61.5, 1.69, 160, 152, 63, 1.8, 1231, 2, 15.5, 2.7, 4, 3, 21.53],
    [52, 1, 74.0, 1.63, 174, 150, 50, 1.26, 936, 2, 25.7, 3.7, 3, 2, 27.85], [50, 0, 56.4, 1.59, 185, 163, 74, 1.26, 924, 1, 34.3, 2.6, 3, 1, 22.31],
    [22, 1, 102.6, 1.84, 163, 153, 65, 1.25, 1052, 3, 20.5, 2.7, 3, 2, 30.3], [59, 0, 54.6, 1.57, 164, 169, 64, 0.58, 441, 2, 29.2, 2.3, 3, 1, 22.15],
    [56, 1, 129.0, 1.78, 194, 126, 64, 1.29, 805, 0, 27.1, 2.7, 2, 1, 40.71], [58, 1, 103.5, 1.66, 172, 168, 61, 1.33, 1106, 2, 24.6, 3.1, 3, 1, 37.56],
    [45, 0, 59.4, 1.51, 169, 142, 65, 1.15, 735, 3, 33.1, 1.9, 4, 2, 26.05], [24, 0, 60.1, 1.79, 170, 165, 63, 1.97, 1625, 2, 15.9, 2.7, 4, 3, 18.76],
    [26, 1, 77.7, 1.62, 177, 126, 73, 1.16, 804, 0, 29.6, 3.0, 3, 2, 29.61], [25, 0, 41.2, 1.62, 193, 144, 64, 1.49, 1073, 0, 28.9, 2.1, 4, 2, 15.7],
    [29, 1, 58.6, 1.61, 198, 122, 72, 1.2, 805, 0, 23.4, 2.0, 3, 2, 22.61], [51, 1, 109.3, 1.78, 182, 157, 64, 0.54, 420, 3, 28.7, 3.3, 3, 1, 34.5],
    [50, 1, 69.6, 1.96, 166, 139, 68, 0.97, 667, 3, 25.6, 2.0, 3, 1, 18.12], [40, 0, 56.2, 1.79, 198, 153, 57, 1.79, 1369, 0, 17.6, 2.7, 5, 3, 17.54],
    [41, 1, 71.7, 1.96, 162, 168, 51, 0.51, 424, 0, 27.3, 2.5, 2, 1, 18.66], [54, 1, 86.0, 1.93, 171, 163, 51, 1.74, 1404, 3, 12.9, 3.5, 5, 3, 23.09],
    [52, 0, 79.4, 1.59, 166, 163, 59, 1.39, 1020, 3, 26.6, 1.5, 3, 2, 31.41], [57, 0, 78.4, 1.62, 185, 149, 52, 1.01, 677, 3, 31.7, 2.0, 4, 2, 29.87],
    [39, 0, 55.4, 1.6, 192, 136, 72, 1.44, 979, 1, 26.3, 1.6, 3, 2, 21.64], [44, 0, 61.7, 1.55, 196, 129, 66, 1.41, 819, 3, 33.1, 2.6, 4, 2, 25.68],
    [52, 1, 85.5, 1.82, 174, 154, 57, 1.78, 1357, 0, 14.9, 3.5, 4, 3, 25.81], [18, 1, 87.6, 1.93, 161, 139, 72, 1.72, 1315, 1, 11.9, 3.5, 4, 3, 23.52],
    [52, 1, 82.4, 1.72, 166, 137, 53, 1.01, 685, 3, 24.4, 2.7, 4, 2, 27.85], [54, 1, 67.0, 1.68, 191, 164, 63, 0.55, 446, 0, 20.5, 2.8, 3, 1, 23.74],
    [31, 0, 42.3, 1.6, 163, 163, 70, 1.09, 888, 2, 25.1, 1.9, 3, 2, 16.52], [20, 1, 82.7, 1.99, 179, 146, 59, 1.69, 1357, 1, 14.6, 3.5, 5, 3, 20.88],
    [18, 1, 92.4, 1.74, 195, 168, 50, 1.41, 1303, 0, 21.3, 3.1, 2, 1, 30.52], [22, 0, 63.2, 1.54, 191, 155, 53, 1.02, 790, 2, 29.5, 2.4, 4, 2, 26.65],
    [43, 1, 82.7, 1.85, 187, 142, 50, 1.22, 858, 0, 28.2, 3.1, 4, 2, 24.16], [31, 1, 86.6, 1.76, 172, 151, 66, 1.29, 1071, 3, 28.9, 3.3, 3, 2, 27.96],
    [56, 1, 129.5, 1.95, 160, 129, 66, 1.0, 639, 3, 25.2, 3.5, 2, 1, 34.06], [44, 1, 98.0, 1.83, 194, 130, 56, 1.28, 824, 2, 25.7, 3.5, 4, 2, 29.26],
    [26, 1, 86.2, 1.68, 189, 157, 72, 1.97, 1701, 3, 13.3, 3.5, 5, 3, 30.54], [32, 1, 78.6, 1.62, 195, 125, 69, 1.28, 880, 0, 29.6, 3.1, 3, 1, 29.95],
    [32, 0, 59.0, 1.66, 184, 160, 64, 0.51, 408, 2, 31.0, 1.8, 2, 1, 21.41], [43, 0, 57.3, 1.79, 175, 166, 62, 1.98, 1479, 0, 17.8, 2.7, 4, 3, 17.88],
    [59, 1, 122.3, 1.89, 178, 153, 51, 0.66, 500, 0, 20.1, 3.1, 3, 1, 34.24], [30, 1, 85.3, 1.95, 160, 155, 68, 1.61, 1373, 0, 10.4, 3.5, 5, 3, 22.43],
    [49, 0, 45.2, 1.74, 164, 156, 73, 1.24, 870, 3, 30.8, 2.1, 3, 2, 14.93], [56, 1, 55.6, 1.92, 181, 136, 62, 0.68, 458, 3, 29.4, 3.2, 3, 1, 15.08],
    [49, 1, 82.8, 1.95, 183, 159, 73, 1.91, 1503, 0, 14.3, 3.5, 5, 3, 21.78], [21, 1, 125.2, 1.66, 196, 159, 60, 1.38, 1207, 1, 29.8, 3.4, 3, 2, 45.43],
    [47, 0, 58.5, 1.79, 195, 131, 71, 1.42, 837, 0, 30.3, 2.4, 4, 2, 18.26], [54, 1, 86.1, 1.95, 195, 140, 64, 1.17, 811, 0, 27.9, 3.4, 2, 1, 22.64],
    [40, 0, 63.5, 1.61, 163, 159, 59, 1.31, 1041, 2, 33.4, 1.6, 3, 2, 24.5], [56, 1, 69.3, 1.68, 195, 138, 58, 0.66, 451, 0, 26.5, 2.1, 2, 1, 24.55],
    [32, 0, 70.5, 1.62, 177, 122, 58, 1.24, 756, 3, 28.4, 1.8, 2, 1, 26.86], [46, 0, 60.1, 1.65, 175, 137, 69, 1.69, 1042, 2, 17.3, 2.7, 4, 3, 22.08],
    [53, 1, 94.1, 1.95, 177, 138, 50, 0.89, 608, 1, 28.6, 3.5, 3, 1, 24.75], [30, 0, 79.2, 1.62, 181, 166, 66, 1.26, 1046, 2, 28.0, 2.5, 4, 2, 30.18],
    [49, 1, 115.3, 1.91, 161, 125, 61, 1.38, 854, 1, 29.2, 3.2, 2, 1, 31.61], [24, 0, 62.9, 1.79, 180, 135, 59, 1.42, 958, 2, 27.3, 2.3, 4, 2, 19.63],
    [39, 1, 62.0, 1.64, 195, 127, 54, 0.97, 678, 2, 27.5, 3.2, 3, 1, 23.05], [45, 1, 88.5, 1.78, 198, 167, 67, 1.53, 1265, 1, 13.2, 3.5, 4, 3, 27.93],
    [19, 0, 73.9, 1.77, 198, 137, 64, 1.28, 877, 3, 32.5, 2.6, 3, 2, 23.59], [59, 1, 50.3, 1.95, 188, 167, 55, 1.07, 885, 3, 24.4, 3.4, 3, 1, 13.23],
    [23, 1, 83.1, 1.8, 185, 162, 56, 0.7, 624, 3, 29.3, 3.1, 3, 1, 25.65], [45, 0, 65.1, 1.78, 180, 158, 66, 1.46, 1038, 2, 31.3, 2.3, 3, 1, 20.55],
    [45, 1, 46.6, 1.79, 176, 168, 55, 1.46, 1214, 0, 22.9, 2.4, 3, 2, 14.54], [37, 1, 103.5, 1.89, 175, 168, 57, 0.54, 499, 2, 26.4, 3.1, 2, 1, 28.97],
    [47, 0, 61.9, 1.54, 190, 131, 61, 1.95, 1150, 0, 16.4, 2.7, 4, 3, 26.1], [28, 0, 52.0, 1.61, 168, 164, 70, 1.32, 1082, 0, 27.9, 2.0, 3, 2, 20.06],
    [45, 1, 113.4, 1.71, 190, 129, 63, 0.83, 530, 3, 24.0, 2.3, 2, 1, 38.78], [42, 1, 62.9, 1.98, 173, 126, 61, 1.42, 886, 0, 28.5, 3.4, 4, 2, 16.04],
    [56, 0, 40.4, 1.8, 196, 165, 72, 1.23, 913, 2, 30.0, 2.1, 4, 2, 12.47], [50, 0, 67.1, 1.75, 161, 120, 59, 0.67, 362, 2, 31.8, 2.7, 3, 1, 21.91],
    [18, 1, 70.0, 1.61, 173, 168, 71, 1.3, 1201, 3, 23.9, 2.5, 2, 1, 27.01], [44, 0, 69.5, 1.75, 192, 155, 69, 1.02, 711, 1, 27.6, 2.1, 3, 1, 22.69],
    [30, 1, 107.9, 1.66, 194, 140, 64, 1.08, 832, 2, 29.5, 2.8, 3, 2, 39.16], [58, 1, 109.0, 1.91, 198, 156, 56, 1.49, 1151, 0, 26.0, 2.2, 3, 2, 29.88],
    [20, 1, 101.0, 1.91, 179, 143, 58, 1.36, 1070, 2, 29.3, 2.7, 3, 2, 27.69], [56, 1, 88.5, 1.85, 161, 144, 59, 1.57, 1119, 2, 11.0, 3.5, 4, 3, 25.86],
    [23, 1, 80.9, 1.8, 178, 126, 59, 1.55, 1074, 2, 10.7, 3.5, 4, 3, 24.97], [25, 0, 43.1, 1.62, 196, 161, 65, 1.04, 837, 1, 33.6, 1.8, 4, 2, 16.42],
    [44, 0, 59.1, 1.52, 177, 136, 56, 1.58, 967, 0, 18.4, 2.7, 5, 3, 25.58], [26, 0, 54.0, 1.53, 175, 148, 54, 1.14, 844, 3, 26.9, 1.7, 3, 1, 23.07],
    [54, 0, 72.3, 1.78, 163, 149, 72, 1.27, 852, 2, 27.7, 1.8, 2, 1, 22.82], [50, 1, 51.1, 1.98, 171, 126, 52, 0.92, 574, 0, 28.0, 2.4, 2, 1, 13.03],
    [59, 1, 89.4, 1.72, 188, 152, 67, 1.08, 813, 0, 24.5, 3.2, 3, 1, 30.22], [41, 1, 51.5, 1.8, 166, 126, 60, 1.09, 680, 3, 26.7, 2.1, 4, 2, 15.9],
    [32, 1, 87.9, 1.88, 173, 143, 64, 1.52, 1195, 2, 11.6, 3.5, 5, 3, 24.87], [49, 0, 42.0, 1.52, 171, 130, 70, 1.1, 644, 1, 28.8, 2.2, 3, 1, 18.18],
    [49, 1, 79.2, 1.72, 194, 128, 69, 1.46, 925, 0, 29.9, 3.3, 3, 1, 26.77], [41, 1, 64.8, 1.71, 164, 131, 54, 1.2, 778, 3, 22.5, 2.8, 3, 2, 22.16],
    [58, 0, 63.0, 1.78, 176, 154, 73, 1.58, 1095, 1, 17.5, 2.7, 4, 3, 19.88], [29, 0, 56.2, 1.77, 191, 123, 61, 0.68, 418, 0, 33.4, 2.6, 3, 1, 17.94],
    [56, 0, 52.9, 1.64, 169, 155, 53, 1.1, 767, 2, 27.4, 2.3, 3, 2, 19.67], [19, 0, 49.0, 1.69, 176, 147, 64, 1.05, 772, 0, 29.2, 2.4, 3, 1, 17.16],
    [20, 1, 128.2, 1.84, 164, 132, 58, 0.83, 603, 1, 26.2, 2.3, 3, 1, 37.87], [54, 1, 83.6, 1.86, 168, 142, 56, 1.54, 1082, 1, 12.4, 3.5, 5, 3, 24.16],
    [34, 0, 56.2, 1.77, 192, 138, 59, 1.81, 1249, 2, 17.3, 2.7, 5, 3, 17.94], [19, 1, 87.8, 1.78, 195, 161, 72, 1.28, 1133, 2, 23.6, 3.3, 2, 1, 27.71],
    [19, 1, 85.9, 1.85, 195, 156, 62, 1.66, 1424, 3, 12.9, 3.5, 4, 3, 25.1], [45, 1, 51.1, 1.87, 177, 158, 57, 1.44, 1126, 2, 26.2, 3.4, 4, 2, 14.61],
    [40, 0, 57.4, 1.71, 168, 143, 61, 1.87, 1337, 3, 18.3, 2.7, 5, 3, 19.63], [54, 1, 114.9, 1.92, 188, 135, 71, 1.2, 802, 1, 20.7, 2.6, 4, 2, 31.17],
    [49, 0, 62.1, 1.66, 173, 152, 73, 1.37, 937, 1, 31.3, 1.8, 3, 2, 22.54], [50, 1, 57.1, 1.91, 184, 131, 68, 1.09, 707, 0, 29.5, 2.7, 4, 2, 15.65],
    [18, 1, 68.1, 1.8, 174, 153, 50, 1.1, 926, 0, 25.4, 3.3, 4, 2, 21.02], [36, 1, 69.2, 1.65, 165, 126, 65, 1.23, 852, 3, 27.2, 2.7, 3, 1, 25.42],
    [19, 0, 65.2, 1.52, 188, 130, 71, 1.23, 800, 2, 30.6, 2.4, 3, 1, 28.22], [43, 1, 108.6, 1.73, 174, 150, 66, 1.33, 988, 2, 28.5, 2.2, 2, 1, 36.29],
    [49, 0, 40.0, 1.65, 188, 148, 74, 1.03, 686, 0, 34.3, 2.5, 3, 2, 14.69], [23, 0, 41.9, 1.58, 163, 132, 67, 0.56, 370, 1, 26.8, 1.8, 3, 1, 16.78],
    [49, 0, 68.3, 1.52, 177, 150, 60, 1.45, 979, 3, 29.4, 1.8, 4, 2, 29.56], [21, 1, 88.4, 1.6, 198, 121, 67, 1.71, 1138, 1, 12.0, 3.5, 4, 3, 34.53],
    [28, 1, 66.0, 1.9, 175, 158, 56, 1.18, 1025, 1, 24.1, 3.0, 3, 1, 18.28], [34, 1, 71.9, 1.64, 170, 134, 67, 1.26, 929, 2, 21.3, 2.1, 4, 2, 26.73],
    [55, 1, 75.6, 1.71, 173, 130, 57, 1.03, 663, 3, 28.1, 2.0, 4, 2, 25.85], [41, 0, 63.4, 1.59, 162, 153, 55, 1.84, 1267, 1, 15.2, 2.7, 5, 3, 25.08],
    [22, 0, 71.6, 1.77, 197, 158, 56, 1.49, 1177, 0, 30.3, 1.8, 3, 1, 22.85], [51, 0, 57.4, 1.77, 177, 123, 72, 1.08, 598, 0, 31.6, 2.1, 4, 2, 18.32],
    [23, 1, 83.8, 1.99, 179, 130, 71, 1.79, 1280, 2, 11.0, 3.5, 4, 3, 21.16], [39, 0, 55.9, 1.71, 184, 148, 59, 1.95, 1443, 0, 19.5, 2.7, 5, 3, 19.12],
    [28, 1, 87.0, 1.76, 197, 121, 60, 1.2, 799, 0, 28.4, 3.5, 3, 2, 28.09], [33, 0, 65.3, 1.71, 172, 135, 74, 1.18, 796, 1, 29.7, 2.5, 4, 2, 22.33],
    [50, 1, 45.4, 1.67, 163, 158, 62, 1.37, 1071, 0, 24.1, 2.8, 4, 2, 16.28], [26, 1, 87.1, 1.87, 173, 132, 58, 1.71, 1241, 0, 11.2, 3.5, 4, 3, 24.91],
    [23, 0, 78.6, 1.73, 192, 156, 56, 1.47, 1147, 1, 32.3, 1.5, 4, 2, 26.26], [33, 0, 78.0, 1.71, 187, 136, 58, 1.08, 734, 2, 26.3, 2.1, 3, 1, 26.67],
    [46, 0, 58.0, 1.53, 196, 140, 62, 1.83, 1153, 2, 18.4, 2.7, 4, 3, 24.78], [20, 0, 71.3, 1.69, 167, 163, 52, 1.28, 1043, 3, 33.4, 2.3, 3, 2, 24.96],
    [37, 1, 49.1, 1.74, 193, 138, 52, 1.11, 842, 0, 22.3, 2.6, 3, 2, 16.22], [53, 0, 78.3, 1.65, 164, 126, 50, 1.24, 703, 1, 33.7, 1.6, 3, 1, 28.76],
    [36, 0, 57.3, 1.64, 164, 157, 70, 1.13, 887, 3, 25.3, 1.8, 4, 2, 21.3], [43, 0, 48.4, 1.61, 190, 127, 69, 1.28, 732, 2, 34.1, 2.4, 2, 1, 18.67],
    [20, 1, 76.4, 1.62, 168, 132, 51, 1.35, 980, 2, 21.2, 2.6, 4, 2, 29.11], [36, 1, 110.2, 1.77, 191, 156, 74, 1.19, 1021, 1, 26.5, 3.4, 2, 1, 35.18],
    [37, 0, 72.9, 1.76, 192, 121, 52, 1.21, 732, 3, 27.5, 1.9, 3, 2, 23.53], [49, 1, 82.1, 1.86, 162, 160, 64, 1.87, 1481, 3, 14.2, 3.5, 4, 3, 23.73],
    [24, 0, 58.9, 1.76, 189, 130, 73, 0.63, 410, 1, 30.1, 1.7, 3, 1, 19.01], [58, 1, 82.2, 1.87, 171, 143, 55, 1.57, 1111, 1, 10.7, 3.5, 4, 3, 23.51],
    [50, 1, 96.7, 1.72, 188, 125, 62, 1.46, 903, 3, 25.7, 2.7, 3, 2, 32.69], [57, 1, 81.4, 1.86, 162, 145, 70, 1.8, 1292, 2, 12.0, 3.5, 5, 3, 23.53],
    [56, 1, 107.8, 1.73, 185, 126, 50, 1.09, 680, 0, 26.6, 2.8, 3, 2, 36.02], [35, 0, 65.8, 1.62, 189, 158, 69, 1.0, 790, 2, 33.8, 1.5, 4, 2, 25.07],
    [57, 0, 68.5, 1.56, 168, 138, 68, 1.45, 900, 1, 29.1, 1.6, 4, 2, 28.15], [18, 0, 63.9, 1.59, 185, 125, 50, 1.87, 1169, 3, 16.4, 2.7, 4, 3, 25.28],
    [28, 1, 76.3, 1.62, 161, 162, 70, 1.16, 1034, 3, 20.1, 2.3, 3, 2, 29.07], [45, 0, 44.5, 1.65, 162, 148, 71, 1.44, 959, 0, 30.7, 1.6, 3, 1, 16.35],
    [42, 0, 50.7, 1.75, 163, 162, 51, 1.29, 940, 3, 29.0, 1.9, 3, 2, 16.56], [40, 0, 55.1, 1.61, 184, 158, 64, 1.55, 1224, 0, 16.9, 2.7, 4, 3, 21.26],
    [48, 1, 73.7, 1.61, 172, 121, 63, 1.36, 815, 2, 21.8, 3.6, 4, 2, 28.43], [47, 1, 55.6, 1.77, 198, 138, 68, 1.2, 820, 2, 24.3, 2.9, 4, 2, 17.75],
    [59, 1, 86.9, 1.76, 194, 123, 60, 1.13, 688, 3, 29.8, 3.1, 3, 2, 28.05], [52, 0, 60.3, 1.68, 182, 125, 64, 1.6, 900, 3, 16.5, 2.7, 4, 3, 21.36],
    [24, 0, 40.4, 1.64, 168, 168, 55, 0.99, 832, 1, 31.0, 1.9, 2, 1, 15.02], [33, 0, 78.5, 1.66, 161, 156, 69, 1.29, 1006, 1, 32.8, 1.9, 4, 2, 28.49],
    [43, 1, 102.6, 1.72, 190, 147, 58, 0.82, 597, 3, 27.5, 2.0, 2, 1, 34.68], [19, 1, 110.8, 1.91, 161, 149, 54, 1.31, 1074, 3, 23.3, 2.9, 2, 1, 30.37],
    [18, 0, 60.9, 1.79, 191, 126, 69, 1.11, 699, 2, 31.1, 2.1, 2, 1, 19.01], [29, 1, 55.7, 1.61, 177, 128, 51, 1.41, 993, 3, 28.7, 2.3, 3, 1, 21.49],
    [22, 1, 110.5, 1.92, 172, 144, 55, 1.16, 919, 1, 20.2, 3.3, 3, 2, 29.98], [54, 1, 55.2, 1.71, 164, 152, 67, 0.77, 579, 2, 24.4, 2.8, 2, 1, 18.88],
    [49, 1, 46.5, 1.72, 169, 120, 72, 1.4, 832, 0, 22.2, 2.6, 4, 2, 15.72], [26, 0, 70.9, 1.66, 184, 125, 68, 0.81, 506, 1, 28.9, 1.7, 3, 1, 25.73],
    [58, 1, 74.6, 1.75, 193, 137, 58, 1.09, 739, 1, 24.2, 2.9, 2, 1, 24.36], [52, 1, 45.1, 1.72, 196, 129, 70, 0.93, 594, 2, 27.5, 3.3, 2, 1, 15.24],
    [36, 1, 99.9, 1.99, 189, 147, 73, 1.33, 1075, 0, 20.9, 2.5, 3, 1, 25.23], [33, 1, 117.0, 1.61, 166, 130, 55, 1.04, 744, 1, 25.1, 2.4, 3, 2, 45.14],
    [20, 0, 75.9, 1.73, 165, 152, 63, 1.39, 1056, 3, 30.6, 2.1, 4, 2, 25.36], [37, 0, 71.2, 1.64, 162, 120, 73, 1.11, 666, 1, 29.9, 1.7, 3, 2, 26.47],
    [41, 1, 78.8, 1.72, 172, 132, 62, 1.01, 660, 2, 27.3, 3.1, 4, 2, 26.64], [50, 1, 50.6, 1.69, 162, 156, 60, 1.31, 1012, 2, 23.8, 3.0, 2, 1, 17.72],
    [41, 1, 82.5, 1.79, 185, 139, 61, 1.69, 1163, 2, 14.7, 3.5, 4, 3, 25.75], [28, 1, 108.5, 1.79, 183, 120, 68, 1.33, 878, 1, 24.8, 2.1, 4, 2, 33.86],
    [25, 1, 49.9, 1.98, 165, 122, 68, 1.15, 772, 0, 25.7, 2.1, 3, 2, 12.73], [53, 1, 125.1, 1.91, 171, 137, 70, 0.52, 353, 3, 28.3, 3.1, 2, 1, 34.29],
    [55, 0, 79.7, 1.66, 195, 160, 68, 1.06, 763, 2, 27.8, 1.9, 2, 1, 28.92], [57, 1, 126.8, 1.63, 161, 133, 73, 0.96, 632, 0, 20.8, 2.1, 2, 1, 47.72],
    [37, 0, 54.6, 1.57, 170, 150, 62, 1.31, 982, 3, 32.1, 2.4, 3, 1, 22.15], [52, 0, 47.8, 1.54, 198, 146, 63, 1.34, 880, 2, 29.8, 1.9, 3, 2, 20.16],
    [42, 1, 97.9, 1.91, 193, 136, 73, 1.01, 680, 3, 29.0, 2.8, 3, 2, 26.84], [52, 0, 63.1, 1.54, 185, 165, 67, 1.36, 1010, 3, 34.8, 1.8, 3, 2, 26.61],
    [42, 0, 72.4, 1.69, 177, 148, 61, 1.07, 713, 0, 29.0, 2.3, 3, 2, 25.35], [46, 0, 58.9, 1.7, 180, 155, 53, 1.52, 1060, 3, 17.1, 2.7, 4, 3, 20.38],
    [35, 0, 50.4, 1.6, 195, 156, 59, 1.03, 803, 2, 29.1, 1.9, 4, 2, 19.69], [35, 0, 64.2, 1.59, 199, 145, 66, 1.63, 1182, 0, 16.6, 2.7, 5, 3, 25.39],
    [19, 0, 58.8, 1.77, 181, 136, 53, 1.4, 952, 1, 32.8, 2.7, 2, 1, 18.77], [52, 1, 105.2, 1.62, 189, 141, 61, 1.36, 949, 1, 27.6, 3.2, 3, 1, 40.09],
];
export const fitnessData = raw.map(r => ({ age: r[0], gender: G[r[1]], weight: r[2], height: r[3], maxBPM: r[4], avgBPM: r[5], restingBPM: r[6], sessionDuration: r[7], caloriesBurned: r[8], workoutType: T[r[9]], fatPercentage: r[10], waterIntake: r[11], workoutFrequency: r[12], experienceLevel: r[13], bmi: r[14] }));

// ─── Helper Functions ──────────────────────────────────

export function getWorkoutStats() {
    const types = ['Yoga', 'HIIT', 'Cardio', 'Strength'];
    return types.map(type => {
        const entries = fitnessData.filter(d => d.workoutType === type);
        const n = entries.length || 1;
        return {
            type, count: entries.length,
            avgCalories: Math.round(entries.reduce((s, d) => s + d.caloriesBurned, 0) / n),
            avgDuration: +(entries.reduce((s, d) => s + d.sessionDuration, 0) / n).toFixed(2),
            avgBMI: +(entries.reduce((s, d) => s + d.bmi, 0) / n).toFixed(1),
            avgWater: +(entries.reduce((s, d) => s + d.waterIntake, 0) / n).toFixed(1),
            avgFat: +(entries.reduce((s, d) => s + d.fatPercentage, 0) / n).toFixed(1),
            avgMaxBPM: Math.round(entries.reduce((s, d) => s + d.maxBPM, 0) / n),
            avgAvgBPM: Math.round(entries.reduce((s, d) => s + d.avgBPM, 0) / n),
            avgRestBPM: Math.round(entries.reduce((s, d) => s + d.restingBPM, 0) / n),
        };
    });
}

export function getByWorkoutType(type) { return fitnessData.filter(d => d.workoutType === type); }

export function getSummaryStats() {
    const n = fitnessData.length;
    return {
        totalRecords: n,
        avgCalories: Math.round(fitnessData.reduce((s, d) => s + d.caloriesBurned, 0) / n),
        avgBMI: +(fitnessData.reduce((s, d) => s + d.bmi, 0) / n).toFixed(1),
        avgDuration: +(fitnessData.reduce((s, d) => s + d.sessionDuration, 0) / n).toFixed(2),
        avgAge: Math.round(fitnessData.reduce((s, d) => s + d.age, 0) / n),
        genderSplit: { male: fitnessData.filter(d => d.gender === 'Male').length, female: fitnessData.filter(d => d.gender === 'Female').length },
        experienceSplit: { beginner: fitnessData.filter(d => d.experienceLevel === 1).length, intermediate: fitnessData.filter(d => d.experienceLevel === 2).length, advanced: fitnessData.filter(d => d.experienceLevel === 3).length },
    };
}

export function getAgeGroups() {
    const groups = [{ label: '18-25', min: 18, max: 25 }, { label: '26-35', min: 26, max: 35 }, { label: '36-45', min: 36, max: 45 }, { label: '46-55', min: 46, max: 55 }, { label: '56+', min: 56, max: 100 }];
    return groups.map(g => {
        const entries = fitnessData.filter(d => d.age >= g.min && d.age <= g.max);
        const n = entries.length || 1;
        return {
            label: g.label, count: entries.length,
            avgMaxBPM: Math.round(entries.reduce((s, d) => s + d.maxBPM, 0) / n),
            avgAvgBPM: Math.round(entries.reduce((s, d) => s + d.avgBPM, 0) / n),
            avgRestBPM: Math.round(entries.reduce((s, d) => s + d.restingBPM, 0) / n),
            avgCalories: Math.round(entries.reduce((s, d) => s + d.caloriesBurned, 0) / n),
        };
    });
}

export function getRecommendations({ age, bmi, experienceLevel, gender }) {
    let similar = fitnessData.filter(d => {
        return Math.abs(d.age - age) <= 5 && (bmi ? Math.abs(d.bmi - bmi) <= 5 : true)
            && (experienceLevel ? d.experienceLevel === experienceLevel : true)
            && (gender ? d.gender === gender : true);
    });
    if (similar.length < 5) similar = fitnessData.filter(d => Math.abs(d.age - age) <= 10);
    const types = ['Yoga', 'HIIT', 'Cardio', 'Strength'];
    const ranked = types.map(type => {
        const e = similar.filter(d => d.workoutType === type), n = e.length || 1;
        return {
            type, count: e.length,
            avgCalories: Math.round(e.reduce((s, d) => s + d.caloriesBurned, 0) / n),
            avgDuration: +(e.reduce((s, d) => s + d.sessionDuration, 0) / n).toFixed(2),
            avgWater: +(e.reduce((s, d) => s + d.waterIntake, 0) / n).toFixed(1),
            avgFrequency: +(e.reduce((s, d) => s + d.workoutFrequency, 0) / n).toFixed(1),
        };
    }).filter(r => r.count > 0).sort((a, b) => b.avgCalories - a.avgCalories);
    return { matchCount: similar.length, recommendations: ranked, topRecommendation: ranked[0] || null };
}
